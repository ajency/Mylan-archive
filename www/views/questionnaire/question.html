<ion-view
  ng-init="view.init();"
  hide-back-button="true">


   <ion-content  class="has-footer" ng-switch="view.display">

    <div >
      <div class="loader" ng-switch-when="loader">
        <ion-spinner>
        </ion-spinner>
      </div>
      <div
        ng-switch-when="noError">

        <div class="info-msg padding bg-balanced" ng-if="view.infoBox">
            <span>Select your Answer/ Answers</span> 
        </div> 
          
         <!-- descrp --> 
          <div 
            class="padding"
            ng-if = 'view.data.questionType == "descr"'>
              <div class="col">
               
                <h5 class="f-w-400">What is your current weight ?</h5>
                <div class="prev-answers">
           <div class="swipe-down" 
          ng-click = "view.showDiv()"
          ng-if="!view.pastAnswerDiv">
         <div>
           
              
               <h6 class="f-w-400">Previous Answers <i class="icon ion-android-arrow-dropdown-circle text-green"></i></h6>
            
              
           
          </div>
        </div>
         <div class="bg-gray" 
            ng-if="view.pastAnswerDiv"
            ng-click = "view.hideDiv()" >
            <div class="row">
              <div class="col">
                  <p class="f-w-400">{{view.data.pastAnswer}}</p>
              </div>
              </div>
                  <hr>
                  <div class="row">
                  <div class="col col-80">
                  <h6>
                    <i class="icon ion-calendar"></i>
                    Submitted On {{view.data.submitedDate}}
                  </h6>
                </div>
                <div class="col">
                  <div class="text-right">
                  <i class="icon ion-android-arrow-dropup-circle text-green"></i>
                </div>
                </div>
                </div>
             </div>
       </div>
               
              
                <div class="row">
                  <div 
                    class="col"
                    ng-repeat="answerValue in view.data.fields">
                    <label class="item-input item-icon-right b-b">
                    <input 
                      type="{{answerValue.type}}" 
                      placeholder="{{answerValue.placeholder}}"
                      ng-model="view.val_answerValue[answerValue.name]">
                    </label>
                  </div>
                </div>
              </div>
          </div>
<!-- descrp -->
          <div>

              <div 
                class="padding"
                ng-if = 'view.data.question.type == "single-choice" || view.data.question.type == "mcq"'>
                    <div class="col">
                        <h5 class="f-w-400">{{view.data.question.question}}</h5>
                        <br>
                        <div class="prev-answers">
                            <div class="swipe-down" 
                            ng-click = "view.showDiv()"
                            ng-if="!view.pastAnswerDiv">

                              <h6 class="f-w-400">
                                Previous Answers &nbsp;&nbsp;
                                <i class="icon ion-android-arrow-dropdown-circle text-green"></i>
                              </h6>

                            </div>
                            <div class="" 
                            ng-if="view.pastAnswerDiv"
                            ng-click = "view.hideDiv()" >
                              <div class="row">
                                  <div class="col">
                                  <p class="f-w-400">{{view.data.pastAnswer}}</p>
                                  </div>
                              </div>
                              <hr>
                              <div class="row">
                                  <div class="col col-80">
                                  <h6>
                                  <i class="icon ion-calendar"></i>
                                  Submitted On {{view.data.submitedDate}}
                                  </h6>
                                  </div>
                                  <div class="col">
                                  <div class="text-right">
                                  <i class="icon ion-android-arrow-dropup-circle text-green"></i>
                                  </div>
                                  </div>
                              </div>
                            </div>
                       </div>
                        <br>
                  </div>
              </div>


              <!-- single choice  -->
              <div 
                class="list"
                ng-if = 'view.data.question.type == "single-choice"'>
                <label class="item item-radio"
                  ng-repeat ="answerValue in view.data.question.options">
                    <input type="radio" name="group" ng-model="view.singleChoiceValue" 
                      ng-value="answerValue.id" >
                      <div class="item-content">
                       {{answerValue.label}} 
                      </div>
                    <i class="radio-icon ion-checkmark"></i>
                </label> 
              </div>

              <!-- multi choice  -->
              <ul 
                class="list"
                ng-if = 'view.data.questionType == "mcq"'>
                <li 
                  class="item item-checkbox"
                  ng-repeat ="answerValue in view.data.option">
                  <label class="checkbox" >
                      <input type="checkbox" ng-model="answerValue.checked" 
                      ng-checked="answerValue.checked">
                  </label>
                  <span>
                      {{answerValue.answer}}
                  </span>
                </li>
              </ul>
         </div>

       
        </div>

        <aj-error class="errors"
            error-type="view.errorType"
            ng-switch-when="error"
            tap-to-retry="view.onTapToRetry();">
        </aj-error>

      </div>

    </ion-content>
    
     <div class="bar bar-footer bar-light">
        <button 
              class="button button-icon"
             >
               <span class="text-green">Previous</span>
             
          </button>
            <button 
                class="button button-icon"
                ng-click="view.nextQuestion()"><span class="text-green">Next</span>
                
            </button>
      </div>

</ion-view>
