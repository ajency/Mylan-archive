<ion-view
  hide-back-button="true">
  <ion-nav-bar class="bar-light">
    <ion-nav-back-button
      ng-click="view.back()">
    </ion-nav-back-button>
  </ion-nav-bar>
  <ion-nav-title class="summary-header">
    Summary
  </ion-nav-title>

  <ion-content 
    ng-init="view.init();" 
    class="has-footer"
    ng-switch="view.display">

    <div class="loader" ng-switch-when="loader">
        <ion-spinner>
        </ion-spinner>
    </div>

    <div ng-switch-when="noError">
    <div ng-repeat ="summary in view.data.answerObjects">


        <div class="padding">

            <h5 class="f-w-400 margin-none">
               <b class="assertive"> Q:</b> {{summary.question}}
            </h5>

            <span 
              class="text-green f-w-400 m-t-5 summary-ans-label" 
              ng-if="summary.val ==='single-choice' || summary.val ==='multi-choice'"
              ng-repeat = "answer in summary.optionSelected track by $index">
                {{answer}} <br>   
            </span>
            <span 
              class="text-green f-w-400 summary-ans-label" 
              ng-if="summary.val ==='descriptive'">
                {{summary.input}} 
            </span>
            <!-- <span 
              class="text-green f-w-400 summary-ans-label" 
              ng-if="summary.val 
              !=='single-choice' || summary.val !=='multi-choice' || summary.val !=='descriptive' "> -->
              <span 
              class="text-green f-w-400 summary-ans-label" 
              ng-if="summary.val == 'input'"
              ng-repeat = "answer in summary.optionSelected | orderBy:'score' track by $index">
                {{answer.value}} {{answer.label}} 
            </span>
              

        </div>
        <hr>
    </div>
    <h5 class="text-center f-w-400 m-t-20 op-4"> <i class="ion-flag"></i> End of the list</h5>
  </div>
  <aj-error class="errors"
            error-type="view.errorType"
            ng-switch-when="error"
            tap-to-retry="view.onTapToRetry();">
  </aj-error>

    <br>
  </ion-content>

  <div class="bar bar-footer submission" ng-if = "view.display !== 'loader'">
      <div class="button-bar"
          ng-if = "view.display === 'noError' || view.display === 'error'">
         <button 
            class="button button-balanced"
            ng-click="view.back()"
            >
         Back 
         </button>
         <button 
            class="button button-assertive"
            ng-if = "view.hideButton === false && view.display === 'noError'"
            ng-click="view.submitSummary()">
         Submit
         </button>
      </div>
   </div>

</ion-view>